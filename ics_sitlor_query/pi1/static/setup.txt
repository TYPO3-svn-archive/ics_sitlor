plugin.tx_icssitlorquery_pi1 {
	sitlor {
		login = {$plugin.tx_icssitlorquery.login}
		password = {$plugin.tx_icssitlorquery.password}
		url = {$plugin.tx_icssitlorquery.url}
		nomenclatureUrl = {$plugin.tx_icssitlorquery.nomenclatureUrl}
		criterionUrl = {$plugin.tx_icssitlorquery.criterionUrl}
	}

	# Template file
	template = {$plugin.tx_icssitlorquery.template}

	view {
		# Mode to display : list, single, search
		modes = {$plugin.tx_icssitlorquery.modes}
		# Size
		size = {$plugin.tx_icssitlorquery.size}
		# Group of data: ACCOMODATION, RESTAURANT, EVENT
		dataGroup = ACCOMODATION
		# Category of accomodation (separated with coma): HOTEL, CAMPING, YOUTHHOSTEL, STRANGE, HOLLIDAY_COTTAGE, GUESTHOUSE
		subDataGroups = 
	}
	
	# Select
	filter {
		OTNancy =
		startDate = 01/01/2000
	}
	
	# Default primitive rendering
	defaultConf {
		Phone.field = phone
		Address.cObject = COA
		Address.cObject {
			10 = TEXT
			10 {
				field = street
				prepend = TEXT
				prepend.if.isTrue.field = number
				prepend.field = number
				prepend.noTrimWrap = || |
				wrap = |<br/>
			}
			20 = TEXT
			20 {
				if.isTrue.field = extra
				field = extra
				wrap = |<br/>
			}
			50 = TEXT
			50 {
				field = city
				prepend = TEXT
				prepend.if.isTrue.field = zip
				prepend.field = zip
				prepend.noTrimWrap = || |
			}
		}
		Link {
			typolink {
				parameter.field = url
			}
		}
		Name.cObject = COA
		Name.cObject {
			10 = TEXT
			10 {
				field = firstname
				prepend = TEXT
				prepend.if.isTrue.field = title
				prepend.field = title
				prepend.noTrimWrap = || |
				wrap = | &nbsp;{field:lastname}
				insertData = 1
			}
		}
		ValuedTermTuple.illustration {
			cObject = COA
			cObject {
				if.isTrue.field = item1
				10 = TEXT
				10.field = item1
				10.wrap = <span class="image">|</span>
				20 = TEXT
				20.if.isTrue.field = item2
				20.field = item2
				20.wrap = <span class="copyright">|</span>
			}
			wrap = <div class="illustration">|</div>
			item1_conf {
				field = criterion
				override.field = term
				override.override.field = value
				value_conf {
					cObject = TEXT
					cObject.value = <img />
					addParams {
						src =
						src.field = url
						title = illustration
						title.append = CASE
						title.append {
							key.data = parentField:criterionId
							736000294 = TEXT
							736000294.value = 1
							736001142 = TEXT
							736001142.value = 2
							736001115 = TEXT
							736001115.value = 3
							736001116 = TEXT
							736001116.value = 4
							4000060 = TEXT
							4000060.value = 5
							4000061 = TEXT
							4000061.value = 6
						}
					}
				}
			}
		}
		Picture {
			field = url
			cObject = TEXT
			cObject.value = <img />
			addParams {
				src =
				src.field = url
				title = illustration
			}
		}
		Coordinates.cObject = COA
		Coordinates.cObject {
			10 = TEXT
			10 {
				field = latitude
				noTrimWrap = |Latitude&nbsp;: ||
			}
			20 = TEXT
			20 {
				field = longitude
				noTrimWrap = |&nbsp;&nbsp;Longitude&nbsp;: ||
			}
		}
		ValuedTerm {
			field = criterion
			override.field = term
			override.override.field = value
			value_conf {
				cObject = CASE
				cObject {
					key.data = parentfield:valueType
					tx_icssitlorquery_Picture = TEXT
					tx_icssitlorquery_Picture.value = C'est une image
				}
			}
		}
		TimeTable.cObject = TEXT
		TimeTable.cObject {
			#preUserFunc = tx_icssitlorquery_TimeEntriesRenderer->renderTimeEntries
			preUserFunc {
				addMissingEntries = 1
				head.wrap = <thead><tr><td></td>|</tr></thead>
				headAM.override = Matin
				headAM.wrap = <td colspan="2" id="morning">|</td>
				headPM.override = Après-midi
				headPM.wrap = <td colspan="2" id="afternoon">|</td>
				body.wrap = <tbody>|</tbody>
				row.wrap = <tr>|</tr>
				rowAM.cObject = COA
				rowAM.cObject {
					10 = TEXT
					10.value = Matin
					10.innerWrap = <th>|</th>
					10.addParams {
						id =
						id.field = open
						id.strftime = %u
						id.wrap = day|
					}
					20 = TEXT
					20.field = open
					20.strftime = %H:%M
					20.innerWrap = <td>|</td>
					20.addParams {
						headers =
						headers.cObject = COA
						headers.cObject {
							10 = TEXT
							10.value = morning
							10.noTrimWrap = || |
							20 = TEXT
							20.field = open
							20.strftime = %u
							20.wrap = day|
						}
					}
					30 < .20
					30.field = close
					30.addParams.headers.10.value = afternoon
				}
				rowPM < .rowAM
				rowPM.10 >
			}
			preCObject = COA
			preCObject {
				10 = TEXT
				10 {
					field = start
					stdWrap.strftime = %d/%m/%Y
					noTrimWrap = |Du ||
				}
				20 = TEXT
				20 {
					field = end
					stdWrap.strftime = %d/%m/%Y
					noTrimWrap = | au ||
				}
				wrap = <caption>|</caption>
			}
			wrap = <table>|</table>
			append = TEXT
			append {
				if.isTrue.field = comment
				field = comment
				wrap = <p>|</p>
			}
		}
	}
	
	# Render data
	renderConf {
		phones {
			noTrimWrap = |Tél&nbsp;: ||
			separator = <span class="phone_separator"> - </span>
		}
		fax.noTrimWrap = |Fax&nbsp;: ||
	}
	
}